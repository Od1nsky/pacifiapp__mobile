{"swagger": "2.0", "info": {"title": "Burnout Prevention API", "description": "\nAPI для рекомендательной системы по предотвращению выгорания\n\n## Основные возможности API\n\n* **Пользователи**: регистрация, авторизация, управление профилями\n* **Стресс**: отслеживание уровня стресса и анализ динамики\n* **Сон**: мониторинг качества и продолжительности сна\n* **Работа**: анализ рабочей активности и продуктивности\n* **Рекомендации**: персонализированные рекомендации по предотвращению выгорания\n* **Интеграции**: подключение внешних сервисов и календарей\n\nДля использования API требуется авторизация через JWT токены.\n", "termsOfService": "https://burnout-prevention.ru/terms/", "contact": {"email": "info@burnout-prevention.ru"}, "license": {"name": "Proprietary License"}, "version": "v1"}, "host": "localhost:8000", "schemes": ["http"], "basePath": "/api", "consumes": ["application/json"], "produces": ["application/json"], "securityDefinitions": {"Bearer": {"type": "apiKey", "name": "Authorization", "in": "header"}}, "security": [{"Bearer": []}], "paths": {"/auth/token/": {"post": {"operationId": "auth_token_create", "description": "Takes a set of user credentials and returns an access and refresh JSON web\ntoken pair to prove the authentication of those credentials.", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/TokenObtainPair"}}], "responses": {"201": {"description": "", "schema": {"$ref": "#/definitions/TokenObtainPair"}}}, "tags": ["auth"]}, "parameters": []}, "/auth/token/refresh/": {"post": {"operationId": "auth_token_refresh_create", "description": "Takes a refresh type JSON web token and returns an access type JSON web\ntoken if the refresh token is valid.", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/TokenRefresh"}}], "responses": {"201": {"description": "", "schema": {"$ref": "#/definitions/TokenRefresh"}}}, "tags": ["auth"]}, "parameters": []}, "/burnout-risk/": {"get": {"operationId": "burnout-risk_list", "description": "ViewSet для просмотра риска выгорания.", "parameters": [{"name": "page", "in": "query", "description": "A page number within the paginated result set.", "required": false, "type": "integer"}], "responses": {"200": {"description": "", "schema": {"required": ["count", "results"], "type": "object", "properties": {"count": {"type": "integer"}, "next": {"type": "string", "format": "uri", "x-nullable": true}, "previous": {"type": "string", "format": "uri", "x-nullable": true}, "results": {"type": "array", "items": {"$ref": "#/definitions/BurnoutRisk"}}}}}}, "tags": ["burnout-risk"]}, "parameters": []}, "/burnout-risk/calculate/": {"get": {"operationId": "burnout-risk_calculate", "description": "Рассчитывает текущий риск выгорания для пользователя динамически, без сохранения в базу данных.", "parameters": [{"name": "page", "in": "query", "description": "A page number within the paginated result set.", "required": false, "type": "integer"}], "responses": {"200": {"description": "", "schema": {"required": ["count", "results"], "type": "object", "properties": {"count": {"type": "integer"}, "next": {"type": "string", "format": "uri", "x-nullable": true}, "previous": {"type": "string", "format": "uri", "x-nullable": true}, "results": {"type": "array", "items": {"$ref": "#/definitions/BurnoutRisk"}}}}}}, "tags": ["burnout-risk"]}, "parameters": []}, "/burnout-risk/calculate_factor_data/": {"get": {"operationId": "burnout-risk_calculate_factor_data", "description": "Рассчитывает и возвращает данные по каждому фактору риска выгорания.\nНе сохраняет данные в БД.", "parameters": [{"name": "page", "in": "query", "description": "A page number within the paginated result set.", "required": false, "type": "integer"}], "responses": {"200": {"description": "", "schema": {"required": ["count", "results"], "type": "object", "properties": {"count": {"type": "integer"}, "next": {"type": "string", "format": "uri", "x-nullable": true}, "previous": {"type": "string", "format": "uri", "x-nullable": true}, "results": {"type": "array", "items": {"$ref": "#/definitions/BurnoutRisk"}}}}}}, "tags": ["burnout-risk"]}, "parameters": []}, "/burnout-risk/history/": {"get": {"operationId": "burnout-risk_history", "description": "Возвращает историю оценок риска выгорания за последние 7 дней.\nДанные рассчитываются динамически для каждого дня.", "parameters": [{"name": "page", "in": "query", "description": "A page number within the paginated result set.", "required": false, "type": "integer"}], "responses": {"200": {"description": "", "schema": {"required": ["count", "results"], "type": "object", "properties": {"count": {"type": "integer"}, "next": {"type": "string", "format": "uri", "x-nullable": true}, "previous": {"type": "string", "format": "uri", "x-nullable": true}, "results": {"type": "array", "items": {"$ref": "#/definitions/BurnoutRisk"}}}}}}, "tags": ["burnout-risk"]}, "parameters": []}, "/burnout-risk/latest/": {"get": {"operationId": "burnout-risk_latest", "description": "Возвращает текущую оценку риска выгорания, рассчитанную динамически.", "parameters": [{"name": "page", "in": "query", "description": "A page number within the paginated result set.", "required": false, "type": "integer"}], "responses": {"200": {"description": "", "schema": {"required": ["count", "results"], "type": "object", "properties": {"count": {"type": "integer"}, "next": {"type": "string", "format": "uri", "x-nullable": true}, "previous": {"type": "string", "format": "uri", "x-nullable": true}, "results": {"type": "array", "items": {"$ref": "#/definitions/BurnoutRisk"}}}}}}, "tags": ["burnout-risk"]}, "parameters": []}, "/burnout-risk/weekly_data/": {"get": {"operationId": "burnout-risk_weekly_data", "description": "Возвращает динамически рассчитанные данные о риске выгорания за последнюю неделю для построения графика.\nНе использует сохраненные данные из БД.", "parameters": [{"name": "page", "in": "query", "description": "A page number within the paginated result set.", "required": false, "type": "integer"}], "responses": {"200": {"description": "", "schema": {"required": ["count", "results"], "type": "object", "properties": {"count": {"type": "integer"}, "next": {"type": "string", "format": "uri", "x-nullable": true}, "previous": {"type": "string", "format": "uri", "x-nullable": true}, "results": {"type": "array", "items": {"$ref": "#/definitions/BurnoutRisk"}}}}}}, "tags": ["burnout-risk"]}, "parameters": []}, "/burnout-risk/{id}/": {"get": {"operationId": "burnout-risk_read", "description": "ViewSet для просмотра риска выгорания.", "parameters": [], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/BurnoutRisk"}}}, "tags": ["burnout-risk"]}, "parameters": [{"name": "id", "in": "path", "description": "A unique integer value identifying this burnout risk.", "required": true, "type": "integer"}]}, "/calendar/": {"get": {"operationId": "calendar_list", "description": "ViewSet для управления интеграциями с календарем.", "parameters": [{"name": "page", "in": "query", "description": "A page number within the paginated result set.", "required": false, "type": "integer"}], "responses": {"200": {"description": "", "schema": {"required": ["count", "results"], "type": "object", "properties": {"count": {"type": "integer"}, "next": {"type": "string", "format": "uri", "x-nullable": true}, "previous": {"type": "string", "format": "uri", "x-nullable": true}, "results": {"type": "array", "items": {"$ref": "#/definitions/CalendarIntegration"}}}}}}, "tags": ["calendar"]}, "post": {"operationId": "calendar_create", "description": "ViewSet для управления интеграциями с календарем.", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/CalendarIntegration"}}], "responses": {"201": {"description": "", "schema": {"$ref": "#/definitions/CalendarIntegration"}}}, "tags": ["calendar"]}, "parameters": []}, "/calendar/providers/": {"get": {"operationId": "calendar_providers", "description": "Возвращает список доступных провайдеров календаря.", "parameters": [{"name": "page", "in": "query", "description": "A page number within the paginated result set.", "required": false, "type": "integer"}], "responses": {"200": {"description": "", "schema": {"required": ["count", "results"], "type": "object", "properties": {"count": {"type": "integer"}, "next": {"type": "string", "format": "uri", "x-nullable": true}, "previous": {"type": "string", "format": "uri", "x-nullable": true}, "results": {"type": "array", "items": {"$ref": "#/definitions/CalendarIntegration"}}}}}}, "tags": ["calendar"]}, "parameters": []}, "/calendar/{id}/": {"get": {"operationId": "calendar_read", "description": "ViewSet для управления интеграциями с календарем.", "parameters": [], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/CalendarIntegration"}}}, "tags": ["calendar"]}, "put": {"operationId": "calendar_update", "description": "ViewSet для управления интеграциями с календарем.", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/CalendarIntegration"}}], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/CalendarIntegration"}}}, "tags": ["calendar"]}, "patch": {"operationId": "calendar_partial_update", "description": "ViewSet для управления интеграциями с календарем.", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/CalendarIntegration"}}], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/CalendarIntegration"}}}, "tags": ["calendar"]}, "delete": {"operationId": "calendar_delete", "description": "ViewSet для управления интеграциями с календарем.", "parameters": [], "responses": {"204": {"description": ""}}, "tags": ["calendar"]}, "parameters": [{"name": "id", "in": "path", "description": "A unique integer value identifying this интеграция с календарем.", "required": true, "type": "integer"}]}, "/calendar/{id}/events/": {"get": {"operationId": "calendar_events", "description": "Возвращает события календаря для данной интеграции.", "parameters": [], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/CalendarIntegration"}}}, "tags": ["calendar"]}, "parameters": [{"name": "id", "in": "path", "description": "A unique integer value identifying this интеграция с календарем.", "required": true, "type": "integer"}]}, "/calendar/{id}/refresh_token/": {"post": {"operationId": "calendar_refresh_token", "description": "Обновляет токен доступа для интеграции с календарем.", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/CalendarIntegration"}}], "responses": {"201": {"description": "", "schema": {"$ref": "#/definitions/CalendarIntegration"}}}, "tags": ["calendar"]}, "parameters": [{"name": "id", "in": "path", "description": "A unique integer value identifying this интеграция с календарем.", "required": true, "type": "integer"}]}, "/calendar/{id}/sync/": {"post": {"operationId": "calendar_sync", "description": "Синхронизирует события календаря с провайдером.", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/CalendarIntegration"}}], "responses": {"201": {"description": "", "schema": {"$ref": "#/definitions/CalendarIntegration"}}}, "tags": ["calendar"]}, "parameters": [{"name": "id", "in": "path", "description": "A unique integer value identifying this интеграция с календарем.", "required": true, "type": "integer"}]}, "/dashboard/summary/": {"get": {"operationId": "dashboard_summary_list", "description": "Возвращает агрегированные данные для панели мониторинга.", "parameters": [], "responses": {"200": {"description": ""}}, "tags": ["dashboard"]}, "parameters": []}, "/recommendations/": {"get": {"operationId": "recommendations_list", "description": "ViewSet для просмотра всех рекомендаций.\nТолько чтение, так как создание рекомендаций выполняется через админку или API рекомендательной системы.", "parameters": [{"name": "category", "in": "query", "description": "category", "required": false, "type": "string", "enum": ["rest", "sleep", "exercise", "mindfulness", "social", "work_balance"]}, {"name": "is_quick", "in": "query", "description": "is_quick", "required": false, "type": "string"}, {"name": "type", "in": "query", "description": "type", "required": false, "type": "string"}, {"name": "page", "in": "query", "description": "A page number within the paginated result set.", "required": false, "type": "integer"}], "responses": {"200": {"description": "", "schema": {"required": ["count", "results"], "type": "object", "properties": {"count": {"type": "integer"}, "next": {"type": "string", "format": "uri", "x-nullable": true}, "previous": {"type": "string", "format": "uri", "x-nullable": true}, "results": {"type": "array", "items": {"$ref": "#/definitions/Recommendation"}}}}}}, "tags": ["recommendations"]}, "parameters": []}, "/recommendations/{id}/": {"get": {"operationId": "recommendations_read", "description": "ViewSet для просмотра всех рекомендаций.\nТолько чтение, так как создание рекомендаций выполняется через админку или API рекомендательной системы.", "parameters": [], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/Recommendation"}}}, "tags": ["recommendations"]}, "parameters": [{"name": "id", "in": "path", "description": "A unique integer value identifying this рекомендация.", "required": true, "type": "integer"}]}, "/sleep/": {"get": {"operationId": "sleep_list", "description": "ViewSet для просмотра и редактирования записей о сне.", "parameters": [{"name": "page", "in": "query", "description": "A page number within the paginated result set.", "required": false, "type": "integer"}], "responses": {"200": {"description": "", "schema": {"required": ["count", "results"], "type": "object", "properties": {"count": {"type": "integer"}, "next": {"type": "string", "format": "uri", "x-nullable": true}, "previous": {"type": "string", "format": "uri", "x-nullable": true}, "results": {"type": "array", "items": {"$ref": "#/definitions/SleepRecord"}}}}}}, "tags": ["sleep"]}, "post": {"operationId": "sleep_create", "description": "ViewSet для просмотра и редактирования записей о сне.", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/SleepRecordCreate"}}], "responses": {"201": {"description": "", "schema": {"$ref": "#/definitions/SleepRecordCreate"}}}, "tags": ["sleep"]}, "parameters": []}, "/sleep/statistics/": {"get": {"operationId": "sleep_statistics", "description": "Возвращает статистику сна за указанный период.", "parameters": [{"name": "page", "in": "query", "description": "A page number within the paginated result set.", "required": false, "type": "integer"}], "responses": {"200": {"description": "", "schema": {"required": ["count", "results"], "type": "object", "properties": {"count": {"type": "integer"}, "next": {"type": "string", "format": "uri", "x-nullable": true}, "previous": {"type": "string", "format": "uri", "x-nullable": true}, "results": {"type": "array", "items": {"$ref": "#/definitions/SleepRecord"}}}}}}, "tags": ["sleep"]}, "parameters": []}, "/sleep/{id}/": {"get": {"operationId": "sleep_read", "description": "ViewSet для просмотра и редактирования записей о сне.", "parameters": [], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/SleepRecord"}}}, "tags": ["sleep"]}, "put": {"operationId": "sleep_update", "description": "ViewSet для просмотра и редактирования записей о сне.", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/SleepRecord"}}], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/SleepRecord"}}}, "tags": ["sleep"]}, "patch": {"operationId": "sleep_partial_update", "description": "ViewSet для просмотра и редактирования записей о сне.", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/SleepRecord"}}], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/SleepRecord"}}}, "tags": ["sleep"]}, "delete": {"operationId": "sleep_delete", "description": "ViewSet для просмотра и редактирования записей о сне.", "parameters": [], "responses": {"204": {"description": ""}}, "tags": ["sleep"]}, "parameters": [{"name": "id", "in": "path", "description": "A unique integer value identifying this запись о сне.", "required": true, "type": "integer"}]}, "/stress/": {"get": {"operationId": "stress_list", "description": "ViewSet для просмотра и редактирования записей об уровне стресса.", "parameters": [{"name": "page", "in": "query", "description": "A page number within the paginated result set.", "required": false, "type": "integer"}], "responses": {"200": {"description": "", "schema": {"required": ["count", "results"], "type": "object", "properties": {"count": {"type": "integer"}, "next": {"type": "string", "format": "uri", "x-nullable": true}, "previous": {"type": "string", "format": "uri", "x-nullable": true}, "results": {"type": "array", "items": {"$ref": "#/definitions/StressLevel"}}}}}}, "tags": ["stress"]}, "post": {"operationId": "stress_create", "description": "ViewSet для просмотра и редактирования записей об уровне стресса.", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/StressLevelCreate"}}], "responses": {"201": {"description": "", "schema": {"$ref": "#/definitions/StressLevelCreate"}}}, "tags": ["stress"]}, "parameters": []}, "/stress/statistics/": {"get": {"operationId": "stress_statistics", "description": "Возвращает статистику уровня стресса за указанный период.", "parameters": [{"name": "page", "in": "query", "description": "A page number within the paginated result set.", "required": false, "type": "integer"}], "responses": {"200": {"description": "", "schema": {"required": ["count", "results"], "type": "object", "properties": {"count": {"type": "integer"}, "next": {"type": "string", "format": "uri", "x-nullable": true}, "previous": {"type": "string", "format": "uri", "x-nullable": true}, "results": {"type": "array", "items": {"$ref": "#/definitions/StressLevel"}}}}}}, "tags": ["stress"]}, "parameters": []}, "/stress/{id}/": {"get": {"operationId": "stress_read", "description": "ViewSet для просмотра и редактирования записей об уровне стресса.", "parameters": [], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/StressLevel"}}}, "tags": ["stress"]}, "put": {"operationId": "stress_update", "description": "ViewSet для просмотра и редактирования записей об уровне стресса.", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/StressLevel"}}], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/StressLevel"}}}, "tags": ["stress"]}, "patch": {"operationId": "stress_partial_update", "description": "ViewSet для просмотра и редактирования записей об уровне стресса.", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/StressLevel"}}], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/StressLevel"}}}, "tags": ["stress"]}, "delete": {"operationId": "stress_delete", "description": "ViewSet для просмотра и редактирования записей об уровне стресса.", "parameters": [], "responses": {"204": {"description": ""}}, "tags": ["stress"]}, "parameters": [{"name": "id", "in": "path", "description": "A unique integer value identifying this уровень стресса.", "required": true, "type": "integer"}]}, "/user-recommendations/": {"get": {"operationId": "user-recommendations_list", "description": "ViewSet для просмотра и управления рекомендациями пользователя.", "parameters": [{"name": "page", "in": "query", "description": "A page number within the paginated result set.", "required": false, "type": "integer"}], "responses": {"200": {"description": "", "schema": {"required": ["count", "results"], "type": "object", "properties": {"count": {"type": "integer"}, "next": {"type": "string", "format": "uri", "x-nullable": true}, "previous": {"type": "string", "format": "uri", "x-nullable": true}, "results": {"type": "array", "items": {"$ref": "#/definitions/UserRecommendation"}}}}}}, "tags": ["user-recommendations"]}, "post": {"operationId": "user-recommendations_create", "description": "ViewSet для просмотра и управления рекомендациями пользователя.", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/UserRecommendation"}}], "responses": {"201": {"description": "", "schema": {"$ref": "#/definitions/UserRecommendation"}}}, "tags": ["user-recommendations"]}, "parameters": []}, "/user-recommendations/request_new/": {"post": {"operationId": "user-recommendations_request_new", "description": "Запрашивает новые рекомендации для пользователя.\nЭтот метод может вызывать рекомендательную систему или \nвыбирать рекомендации на основе текущих данных пользователя.", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/UserRecommendation"}}], "responses": {"201": {"description": "", "schema": {"$ref": "#/definitions/UserRecommendation"}}}, "tags": ["user-recommendations"]}, "parameters": []}, "/user-recommendations/{id}/": {"get": {"operationId": "user-recommendations_read", "description": "ViewSet для просмотра и управления рекомендациями пользователя.", "parameters": [], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/UserRecommendation"}}}, "tags": ["user-recommendations"]}, "put": {"operationId": "user-recommendations_update", "description": "ViewSet для просмотра и управления рекомендациями пользователя.", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/UserRecommendationUpdate"}}], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/UserRecommendationUpdate"}}}, "tags": ["user-recommendations"]}, "patch": {"operationId": "user-recommendations_partial_update", "description": "ViewSet для просмотра и управления рекомендациями пользователя.", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/UserRecommendationUpdate"}}], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/UserRecommendationUpdate"}}}, "tags": ["user-recommendations"]}, "delete": {"operationId": "user-recommendations_delete", "description": "ViewSet для просмотра и управления рекомендациями пользователя.", "parameters": [], "responses": {"204": {"description": ""}}, "tags": ["user-recommendations"]}, "parameters": [{"name": "id", "in": "path", "description": "A unique integer value identifying this рекомендация пользователя.", "required": true, "type": "integer"}]}, "/user-recommendations/{id}/update_status/": {"patch": {"operationId": "user-recommendations_update_status", "description": "Обновляет статус рекомендации пользователя.", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/UserRecommendation"}}], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/UserRecommendation"}}}, "tags": ["user-recommendations"]}, "parameters": [{"name": "id", "in": "path", "description": "A unique integer value identifying this рекомендация пользователя.", "required": true, "type": "integer"}]}, "/users/": {"get": {"operationId": "users_list", "summary": "API точки доступа для управления пользователями.", "description": "Предоставляет функциональность для просмотра и редактирования пользовательских данных,\nобновления профиля, изменения пароля и управления настройками.", "parameters": [{"name": "page", "in": "query", "description": "A page number within the paginated result set.", "required": false, "type": "integer"}], "responses": {"200": {"description": "", "schema": {"required": ["count", "results"], "type": "object", "properties": {"count": {"type": "integer"}, "next": {"type": "string", "format": "uri", "x-nullable": true}, "previous": {"type": "string", "format": "uri", "x-nullable": true}, "results": {"type": "array", "items": {"$ref": "#/definitions/User"}}}}}}, "tags": ["users"]}, "parameters": []}, "/users/activity/": {"get": {"operationId": "users_activity", "description": "Получить историю активности пользователя", "parameters": [{"name": "page", "in": "query", "description": "A page number within the paginated result set.", "required": false, "type": "integer"}], "responses": {"200": {"description": "Список действий пользователя", "schema": {"type": "array", "items": {"type": "object", "properties": {"id": {"type": "integer"}, "activity_type": {"type": "string"}, "description": {"type": "string"}, "timestamp": {"type": "string", "format": "date-time"}}}}}}, "tags": ["users"]}, "parameters": []}, "/users/change_password/": {"post": {"operationId": "users_change_password", "description": "Изменить пароль пользователя", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/PasswordChange"}}], "responses": {"200": {"description": "Пароль успешно изменен", "schema": {"type": "object", "properties": {"detail": {"type": "string"}}}}, "400": {"description": "Неверные данные"}}, "tags": ["users"]}, "parameters": []}, "/users/delete_account/": {"post": {"operationId": "users_delete_account", "description": "Удалить аккаунт пользователя", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/User"}}], "responses": {"200": {"description": "Аккаунт успешно деактивирован", "schema": {"type": "object", "properties": {"detail": {"type": "string"}}}}}, "tags": ["users"]}, "parameters": []}, "/users/me/": {"get": {"operationId": "users_me_read", "description": "Получить данные текущего пользователя", "parameters": [{"name": "page", "in": "query", "description": "A page number within the paginated result set.", "required": false, "type": "integer"}], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/UserProfile"}}}, "tags": ["users"]}, "patch": {"operationId": "users_me_partial_update", "description": "Обновить данные текущего пользователя", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/UserProfileUpdate"}}], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/UserProfile"}}, "400": {"description": "Неверные данные"}}, "tags": ["users"]}, "parameters": []}, "/users/notification_settings/": {"put": {"operationId": "users_notification_settings_update", "description": "Обновить настройки уведомлений", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/UserNotificationSettings"}}], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/UserNotificationSettings"}}, "400": {"description": "Неверные данные"}}, "tags": ["users"]}, "patch": {"operationId": "users_notification_settings_partial_update", "description": "Обновить настройки уведомлений", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/UserNotificationSettings"}}], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/UserNotificationSettings"}}, "400": {"description": "Неверные данные"}}, "tags": ["users"]}, "parameters": []}, "/users/profile/": {"get": {"operationId": "users_profile", "description": "Получить профиль текущего авторизованного пользователя", "parameters": [{"name": "page", "in": "query", "description": "A page number within the paginated result set.", "required": false, "type": "integer"}], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/UserProfile"}}}, "tags": ["users"]}, "parameters": []}, "/users/update_profile/": {"put": {"operationId": "users_update_profile_update", "description": "Обновить профиль текущего пользователя", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/UserProfileUpdate"}}], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/UserProfile"}}, "400": {"description": "Неверные данные"}}, "tags": ["users"]}, "patch": {"operationId": "users_update_profile_partial_update", "description": "Обновить профиль текущего пользователя", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/UserProfileUpdate"}}], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/UserProfile"}}, "400": {"description": "Неверные данные"}}, "tags": ["users"]}, "parameters": []}, "/users/upload_avatar/": {"post": {"operationId": "users_upload_avatar", "description": "Загрузить аватар пользователя", "parameters": [{"name": "username", "in": "formData", "description": "Обязательное поле. Не более 150 символов. Только буквы, цифры и символы @/./+/-/_.", "required": true, "type": "string", "pattern": "^[\\w.@+-]+$", "maxLength": 150, "minLength": 1}, {"name": "email", "in": "formData", "required": true, "type": "string", "format": "email", "maxLength": 254, "minLength": 1}, {"name": "first_name", "in": "formData", "required": false, "type": "string", "maxLength": 150}, {"name": "last_name", "in": "formData", "required": false, "type": "string", "maxLength": 150}, {"name": "date_of_birth", "in": "formData", "required": false, "type": "string", "format": "date", "x-nullable": true}, {"name": "avatar", "in": "formData", "description": "Изображение для аватара профиля", "required": true, "type": "file"}, {"name": "stress_level_base", "in": "formData", "description": "Базовый уровень стресса от 0 до 100", "required": false, "type": "integer"}, {"name": "sleep_hours_avg", "in": "formData", "required": false, "type": "number", "x-nullable": true}, {"name": "work_hours_daily", "in": "formData", "required": false, "type": "number", "x-nullable": true}, {"name": "notifications_enabled", "in": "formData", "required": false, "type": "boolean"}, {"name": "notification_frequency", "in": "formData", "required": false, "type": "integer"}], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/UserProfile"}}, "400": {"description": "Файл не предоставлен или имеет неверный формат"}}, "consumes": ["multipart/form-data", "application/x-www-form-urlencoded"], "tags": ["users"]}, "parameters": []}, "/users/{id}/": {"get": {"operationId": "users_read", "summary": "API точки доступа для управления пользователями.", "description": "Предоставляет функциональность для просмотра и редактирования пользовательских данных,\nобновления профиля, изменения пароля и управления настройками.", "parameters": [], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/User"}}}, "tags": ["users"]}, "parameters": [{"name": "id", "in": "path", "description": "A unique integer value identifying this пользователь.", "required": true, "type": "integer"}]}, "/work-activity/": {"get": {"operationId": "work-activity_list", "description": "Получить список записей о рабочей активности пользователя", "parameters": [{"name": "page", "in": "query", "description": "A page number within the paginated result set.", "required": false, "type": "integer"}], "responses": {"200": {"description": "", "schema": {"type": "array", "items": {"$ref": "#/definitions/WorkActivity"}}}}, "tags": ["work-activity"]}, "post": {"operationId": "work-activity_create", "description": "Создать новую запись о рабочей активности", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/WorkActivityCreate"}}], "responses": {"201": {"description": "", "schema": {"$ref": "#/definitions/WorkActivity"}}, "400": {"description": "Неверные данные"}}, "tags": ["work-activity"]}, "parameters": []}, "/work-activity/statistics/": {"get": {"operationId": "work-activity_statistics", "description": "Получить статистику рабочей активности за период", "parameters": [{"name": "page", "in": "query", "description": "A page number within the paginated result set.", "required": false, "type": "integer"}, {"name": "start_date", "in": "query", "description": "Начальная дата (формат: YYYY-MM-DD)", "type": "string", "format": "date"}, {"name": "end_date", "in": "query", "description": "Конечная дата (формат: YYYY-MM-DD)", "type": "string", "format": "date"}], "responses": {"200": {"description": "Статистика рабочей активности", "schema": {"$ref": "#/definitions/WorkStatistics"}}, "400": {"description": "Неверный формат даты"}}, "tags": ["work-activity"]}, "parameters": []}, "/work-activity/{id}/": {"get": {"operationId": "work-activity_read", "summary": "API для управления записями о рабочей активности пользователя.", "description": "Предоставляет функционал для создания, просмотра, обновления и удаления\nзаписей о продолжительности работы, перерывах и продуктивности.\nТакже включает методы для получения статистики.", "parameters": [], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/WorkActivity"}}}, "tags": ["work-activity"]}, "put": {"operationId": "work-activity_update", "summary": "API для управления записями о рабочей активности пользователя.", "description": "Предоставляет функционал для создания, просмотра, обновления и удаления\nзаписей о продолжительности работы, перерывах и продуктивности.\nТакже включает методы для получения статистики.", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/WorkActivity"}}], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/WorkActivity"}}}, "tags": ["work-activity"]}, "patch": {"operationId": "work-activity_partial_update", "summary": "API для управления записями о рабочей активности пользователя.", "description": "Предоставляет функционал для создания, просмотра, обновления и удаления\nзаписей о продолжительности работы, перерывах и продуктивности.\nТакже включает методы для получения статистики.", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/WorkActivity"}}], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/WorkActivity"}}}, "tags": ["work-activity"]}, "delete": {"operationId": "work-activity_delete", "summary": "API для управления записями о рабочей активности пользователя.", "description": "Предоставляет функционал для создания, просмотра, обновления и удаления\nзаписей о продолжительности работы, перерывах и продуктивности.\nТакже включает методы для получения статистики.", "parameters": [], "responses": {"204": {"description": ""}}, "tags": ["work-activity"]}, "parameters": [{"name": "id", "in": "path", "description": "A unique integer value identifying this рабочая активность.", "required": true, "type": "integer"}]}}, "definitions": {"TokenObtainPair": {"required": ["email", "password"], "type": "object", "properties": {"email": {"title": "Email", "type": "string", "minLength": 1}, "password": {"title": "Password", "type": "string", "minLength": 1}}}, "TokenRefresh": {"required": ["refresh"], "type": "object", "properties": {"refresh": {"title": "Refresh", "type": "string", "minLength": 1}, "access": {"title": "Access", "type": "string", "readOnly": true, "minLength": 1}}}, "BurnoutRisk": {"required": ["risk_level"], "type": "object", "properties": {"id": {"title": "ID", "type": "integer", "readOnly": true}, "user": {"title": "User", "type": "integer", "readOnly": true}, "date": {"title": "Date", "type": "string", "readOnly": true}, "risk_level": {"title": "Risk level", "description": "Уровень риска выгорания (0-100)", "type": "integer", "maximum": 100, "minimum": 0}, "overtime_factor": {"title": "Overtime factor", "type": "string", "readOnly": true}, "workday_duration_factor": {"title": "Workday duration factor", "type": "string", "readOnly": true}, "stress_factor": {"title": "Stress factor", "type": "string", "readOnly": true}, "sleep_quality_factor": {"title": "Sleep quality factor", "type": "string", "readOnly": true}, "sleep_deprivation_factor": {"title": "Sleep deprivation factor", "type": "string", "readOnly": true}, "factors_data": {"title": "Factors data", "type": "string", "readOnly": true}, "recommendations": {"title": "Recommendations", "type": "string", "readOnly": true}, "created_at": {"title": "Created at", "type": "string", "format": "date-time", "readOnly": true}}}, "CalendarIntegration": {"required": ["type"], "type": "object", "properties": {"id": {"title": "ID", "type": "integer", "readOnly": true}, "user": {"title": "Пользователь", "type": "integer", "readOnly": true}, "type": {"title": "Тип календаря", "type": "string", "enum": ["google", "outlook"]}, "access_token": {"title": "Токен доступа", "type": "string"}, "refresh_token": {"title": "Токен обновления", "type": "string"}, "token_expiry": {"title": "Срок действия токена", "type": "string", "format": "date-time", "x-nullable": true}, "is_active": {"title": "Активна", "type": "boolean"}, "last_sync": {"title": "Последняя синхронизация", "type": "string", "format": "date-time", "x-nullable": true}, "created_at": {"title": "Created at", "type": "string", "format": "date-time", "readOnly": true}, "updated_at": {"title": "Updated at", "type": "string", "format": "date-time", "readOnly": true}}}, "Recommendation": {"required": ["title", "description", "type"], "type": "object", "properties": {"id": {"title": "ID", "type": "integer", "readOnly": true}, "title": {"title": "Заголовок", "type": "string", "maxLength": 200, "minLength": 1}, "description": {"title": "Описание", "type": "string", "minLength": 1}, "category": {"title": "Категория", "type": "string", "enum": ["rest", "sleep", "exercise", "mindfulness", "social", "work_balance"]}, "duration_minutes": {"title": "Продолжительность (минуты)", "type": "integer"}, "is_quick": {"title": "Быстрая рекомендация", "description": "Может быть выполнена быстро, например, в перерыве между работой", "type": "boolean"}, "type": {"title": "Тип", "type": "integer"}, "created_at": {"title": "Created at", "type": "string", "format": "date-time", "readOnly": true}, "updated_at": {"title": "Updated at", "type": "string", "format": "date-time", "readOnly": true}}}, "SleepRecord": {"required": ["date", "duration_hours"], "type": "object", "properties": {"id": {"title": "ID", "type": "integer", "readOnly": true}, "date": {"title": "Дата", "type": "string", "format": "date"}, "duration_hours": {"title": "Продолжительность (часов)", "type": "number"}, "quality": {"title": "Качество сна", "description": "Оценка качества сна от 1 до 10", "type": "integer", "x-nullable": true}, "notes": {"title": "Заметки", "type": "string"}, "created_at": {"title": "Created at", "type": "string", "format": "date-time", "readOnly": true}}}, "SleepRecordCreate": {"required": ["date", "duration_hours"], "type": "object", "properties": {"date": {"title": "Дата", "type": "string", "format": "date"}, "duration_hours": {"title": "Продолжительность (часов)", "type": "number"}, "quality": {"title": "Качество сна", "description": "Оценка качества сна от 1 до 10", "type": "integer", "x-nullable": true}, "notes": {"title": "Заметки", "type": "string"}}}, "StressLevel": {"required": ["level"], "type": "object", "properties": {"id": {"title": "ID", "type": "integer", "readOnly": true}, "level": {"title": "Уровень стресса", "description": "Уровень стресса от 0 до 100", "type": "integer"}, "notes": {"title": "Заметки", "type": "string"}, "created_at": {"title": "Created at", "type": "string", "format": "date-time", "readOnly": true}}}, "StressLevelCreate": {"required": ["level"], "type": "object", "properties": {"level": {"title": "Уровень стресса", "description": "Уровень стресса от 0 до 100", "type": "integer"}, "notes": {"title": "Заметки", "type": "string"}}}, "UserRecommendation": {"type": "object", "properties": {"id": {"title": "ID", "type": "integer", "readOnly": true}, "user": {"title": "Пользователь", "type": "integer", "readOnly": true}, "recommendation": {"$ref": "#/definitions/Recommendation"}, "status": {"title": "Статус", "type": "string", "enum": ["pending", "accepted", "completed", "rejected"]}, "reason": {"title": "Причина", "type": "string"}, "user_feedback": {"title": "Отзыв пользователя", "type": "string"}, "user_rating": {"title": "Оценка пользователя", "description": "Оценка от 1 до 5", "type": "integer", "x-nullable": true}, "completed_at": {"title": "Дата выполнения", "type": "string", "format": "date-time", "x-nullable": true}, "created_at": {"title": "Created at", "type": "string", "format": "date-time", "readOnly": true}}}, "UserRecommendationUpdate": {"type": "object", "properties": {"status": {"title": "Статус", "type": "string", "enum": ["pending", "accepted", "completed", "rejected"]}, "user_feedback": {"title": "Отзыв пользователя", "type": "string"}, "user_rating": {"title": "Оценка пользователя", "description": "Оценка от 1 до 5", "type": "integer", "x-nullable": true}, "completed_at": {"title": "Дата выполнения", "type": "string", "format": "date-time", "x-nullable": true}}}, "User": {"required": ["username", "email"], "type": "object", "properties": {"id": {"title": "ID", "type": "integer", "readOnly": true}, "username": {"title": "Имя пользователя", "description": "Обязательное поле. Не более 150 символов. Только буквы, цифры и символы @/./+/-/_.", "type": "string", "pattern": "^[\\w.@+-]+$", "maxLength": 150, "minLength": 1}, "email": {"title": "Адрес электронной почты", "type": "string", "format": "email", "maxLength": 254, "minLength": 1}, "first_name": {"title": "Имя", "type": "string", "maxLength": 150}, "last_name": {"title": "Фамилия", "type": "string", "maxLength": 150}, "date_joined": {"title": "Дата регистрации", "type": "string", "format": "date-time", "readOnly": true}, "last_login": {"title": "Последний вход", "type": "string", "format": "date-time", "readOnly": true, "x-nullable": true}, "date_of_birth": {"title": "Date of birth", "type": "string", "format": "date", "x-nullable": true}, "avatar": {"title": "Avatar", "type": "string", "readOnly": true, "x-nullable": true, "format": "uri"}, "stress_level_base": {"title": "Базовый уровень стресса", "description": "Базовый уровень стресса от 0 до 100", "type": "integer"}, "sleep_hours_avg": {"title": "Среднее время сна (часов)", "type": "number", "x-nullable": true}, "work_hours_daily": {"title": "Среднее рабочее время (часов в день)", "type": "number", "x-nullable": true}, "notifications_enabled": {"title": "Notifications enabled", "type": "boolean"}, "notification_frequency": {"title": "Частота уведомлений (минуты)", "type": "integer"}}}, "PasswordChange": {"required": ["old_password", "new_password"], "type": "object", "properties": {"old_password": {"title": "Old password", "type": "string", "minLength": 1}, "new_password": {"title": "New password", "type": "string", "minLength": 8}}}, "UserProfile": {"type": "object", "properties": {"id": {"title": "ID", "type": "integer", "readOnly": true}, "user": {"$ref": "#/definitions/User"}, "preferred_relaxation_methods": {"title": "Предпочитаемые методы релаксации", "description": "Список предпочитаемых методов релаксации", "type": "object"}, "work_start_time": {"title": "Время начала работы", "type": "string", "x-nullable": true}, "work_end_time": {"title": "Время окончания работы", "type": "string", "x-nullable": true}, "google_calendar_connected": {"title": "Google calendar connected", "type": "boolean"}, "outlook_connected": {"title": "Outlook connected", "type": "boolean"}, "created_at": {"title": "Created at", "type": "string", "format": "date-time", "readOnly": true}, "updated_at": {"title": "Updated at", "type": "string", "format": "date-time", "readOnly": true}}}, "UserProfileUpdate": {"type": "object", "properties": {"preferred_relaxation_methods": {"title": "Предпочитаемые методы релаксации", "description": "Список предпочитаемых методов релаксации", "type": "object"}, "work_start_time": {"title": "Время начала работы", "type": "string", "x-nullable": true}, "work_end_time": {"title": "Время окончания работы", "type": "string", "x-nullable": true}, "google_calendar_connected": {"title": "Google calendar connected", "type": "boolean"}, "outlook_connected": {"title": "Outlook connected", "type": "boolean"}}}, "UserNotificationSettings": {"type": "object", "properties": {"notifications_enabled": {"title": "Notifications enabled", "type": "boolean"}, "notification_frequency": {"title": "Частота уведомлений (минуты)", "type": "integer"}}}, "WorkActivity": {"required": ["date", "duration_hours"], "type": "object", "properties": {"id": {"title": "ID", "type": "integer", "readOnly": true}, "date": {"title": "Дата", "type": "string", "format": "date"}, "duration_hours": {"title": "Продолжительность (часов)", "type": "number"}, "breaks_count": {"title": "Количество перерывов", "type": "integer"}, "breaks_total_minutes": {"title": "Общая продолжительность перерывов (минуты)", "type": "integer"}, "productivity": {"title": "Продуктивность", "description": "Оценка продуктивности от 1 до 10", "type": "integer", "x-nullable": true}, "notes": {"title": "Заметки", "type": "string"}, "created_at": {"title": "Created at", "type": "string", "format": "date-time", "readOnly": true}}}, "WorkActivityCreate": {"required": ["date", "duration_hours"], "type": "object", "properties": {"date": {"title": "Дата", "type": "string", "format": "date"}, "duration_hours": {"title": "Продолжительность (часов)", "type": "number"}, "breaks_count": {"title": "Количество перерывов", "type": "integer"}, "breaks_total_minutes": {"title": "Общая продолжительность перерывов (минуты)", "type": "integer"}, "productivity": {"title": "Продуктивность", "description": "Оценка продуктивности от 1 до 10", "type": "integer", "x-nullable": true}, "notes": {"title": "Заметки", "type": "string"}}}, "DailyWorkData": {"required": ["date", "duration_hours", "productivity", "notes"], "type": "object", "properties": {"date": {"title": "Date", "type": "string", "minLength": 1}, "duration_hours": {"title": "Duration hours", "type": "number"}, "productivity": {"title": "Productivity", "type": "number", "x-nullable": true}, "notes": {"title": "Notes", "type": "string", "x-nullable": true}}}, "WorkStatistics": {"required": ["average_duration", "average_productivity", "average_breaks_count", "average_breaks_duration", "total_records", "start_date", "end_date", "daily_data"], "type": "object", "properties": {"average_duration": {"title": "Average duration", "type": "number"}, "average_productivity": {"title": "Average productivity", "type": "number", "x-nullable": true}, "average_breaks_count": {"title": "Average breaks count", "type": "number", "x-nullable": true}, "average_breaks_duration": {"title": "Average breaks duration", "type": "number", "x-nullable": true}, "total_records": {"title": "Total records", "type": "integer"}, "start_date": {"title": "Start date", "type": "string", "minLength": 1}, "end_date": {"title": "End date", "type": "string", "minLength": 1}, "daily_data": {"type": "array", "items": {"$ref": "#/definitions/DailyWorkData"}}}}}}